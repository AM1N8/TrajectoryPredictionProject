
This document provides descriptions for each column in the CSV files generated by the CARLA simulator that are used in the visualization notebook.

## Ego Vehicle Data (`ego_data_*.csv`)

This dataset contains information about the ego (player-controlled) vehicle at each timestamp.

|Column|Data Type|Description|
|---|---|---|
|`timestamp`|float|Simulation time in seconds|
|`x`|float|X-coordinate of the vehicle in the world (meters)|
|`y`|float|Y-coordinate of the vehicle in the world (meters)|
|`z`|float|Z-coordinate of the vehicle in the world (height, meters)|
|`velocity_x`|float|Velocity component along the X-axis (m/s)|
|`velocity_y`|float|Velocity component along the Y-axis (m/s)|
|`velocity_z`|float|Velocity component along the Z-axis (m/s)|
|`accel_x`|float|Acceleration component along the X-axis (m/s²)|
|`accel_y`|float|Acceleration component along the Y-axis (m/s²)|
|`accel_z`|float|Acceleration component along the Z-axis (m/s²)|
|`heading`|float|Heading direction of the vehicle in degrees (0-360°, where 0° is East)|
|`yaw`|float|Yaw rotation angle of the vehicle in degrees|
|`pitch`|float|Pitch rotation angle of the vehicle in degrees|
|`roll`|float|Roll rotation angle of the vehicle in degrees|
|`steering`|float|Steering angle of the vehicle's wheels (-1.0 to 1.0, where negative is left)|
|`throttle`|float|Throttle input value (0.0 to 1.0)|
|`brake`|float|Brake input value (0.0 to 1.0)|
|`handbrake`|boolean|Handbrake state (1 for engaged, 0 for disengaged)|
|`gear`|integer|Current gear of the vehicle transmission|
|`speed`|float|Calculated total speed magnitude (derived in visualization code, not in raw data)|

## Lane Data (`lane_data_*.csv`)

This dataset contains information about the lane geometry and properties.

|Column|Data Type|Description|
|---|---|---|
|`timestamp`|float|Simulation time in seconds|
|`lane_id`|integer|Unique identifier for each lane|
|`waypoint_x`|float|X-coordinate of the lane waypoint (meters)|
|`waypoint_y`|float|Y-coordinate of the lane waypoint (meters)|
|`waypoint_z`|float|Z-coordinate of the lane waypoint (height, meters)|
|`lane_width`|float|Width of the lane at this waypoint (meters)|
|`is_junction`|boolean|Whether this waypoint is in a junction/intersection (1 for true, 0 for false)|
|`is_drivable`|boolean|Whether this lane is drivable (1 for true, 0 for false)|
|`lane_type`|string|Type of lane (e.g., 'driving', 'shoulder', 'median', etc.)|
|`lane_change`|string|Lane change permissions at this waypoint (e.g., 'none', 'left', 'right', 'both')|
|`lane_marking_type`|string|Type of lane marking (e.g., 'solid', 'broken', 'botts dots', etc.)|
|`lane_marking_color`|string|Color of lane marking (e.g., 'white', 'yellow', etc.)|
|`left_lane_id`|integer|ID of the lane to the left (-1 if none)|
|`right_lane_id`|integer|ID of the lane to the right (-1 if none)|
|`next_waypoint_id`|integer|ID of the next waypoint in this lane (-1 if end of lane)|

## Spatial Points (`spatial_points_*.csv`)

This dataset contains information about various points in the environment, often used to represent the drivable area around the vehicle.

|Column|Data Type|Description|
|---|---|---|
|`timestamp`|float|Simulation time in seconds|
|`x`|float|X-coordinate of the point in the world (meters)|
|`y`|float|Y-coordinate of the point in the world (meters)|
|`z`|float|Z-coordinate of the point in the world (height, meters)|
|`is_drivable`|boolean|Whether this point is on a drivable surface (1 for true, 0 for false)|
|`distance_to_vehicle`|float|Distance from this point to the ego vehicle (meters)|
|`surface_type`|string|Type of surface at this point (e.g., 'road', 'sidewalk', 'grass', etc.)|
|`friction`|float|Road friction coefficient at this point (unitless)|
|`roughness`|float|Surface roughness value (unitless)|
|`elevation`|float|Relative elevation compared to road level (meters)|
|`category`|string|Category of the area (e.g., 'road', 'offroad', 'sidewalk', etc.)|

## Computed/Derived Values

These values are not directly in the CSV files but are calculated during visualization:

|Column|Description|
|---|---|
|`speed`|Total scalar speed calculated from velocity components (√(velocity_x² + velocity_y² + velocity_z²))|
|`accel_total`|Total scalar acceleration calculated from acceleration components (√(accel_x² + accel_y² + accel_z²))|

## Data Relationships

- Each dataset has a `timestamp` column that can be used to synchronize data across files
- The ego vehicle position (`x`, `y`, `z`) can be related to lane waypoints and spatial points to determine vehicle position relative to road infrastructure
- Lane IDs provide structure for the road network, with relationships between adjacent lanes specified through `left_lane_id` and `right_lane_id`

## Use in Visualization

The visualization notebook uses these datasets to create:

1. 2D trajectory plots showing the vehicle path colored by speed
2. Spatial point visualizations showing drivable and non-drivable areas
3. Lane geometry visualizations showing the road network
4. Vehicle dynamics plots showing time-series data of speed, acceleration, and steering
5. Animated visualizations showing the vehicle moving through the environment

## Notes on Data Collection

- Data is typically collected at regular intervals during CARLA simulation runs
- Files are named with timestamps in the format `{data_type}_{YYYYMMDD_HHMMSS}.csv`
- The most recent dataset is loaded by default if no specific timestamp is provided
- All spatial coordinates use a right-handed coordinate system where X points forward, Y points right, and Z points up